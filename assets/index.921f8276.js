var e=Object.defineProperty,t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable,a=(t,n,r)=>n in t?e(t,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[n]=r,o=(e,o)=>{for(var s in o||(o={}))n.call(o,s)&&a(e,s,o[s]);if(t)for(var s of t(o))r.call(o,s)&&a(e,s,o[s]);return e};import{E as s,T as c,a as l,_ as i,R as u,c as d,r as p,w as m,S as b,b as f,d as y,e as g}from"./vendor.7d064e28.js";function E(e,t){const n=s.marks(e);n&&c.setNodes(e,{[t]:!n[t]||void 0},{match:e=>l.isText(e),split:!0})}const k=function(){const e=new Map,t=(t,n,r)=>{const a=e.get(t);a&&a(n,r)};return{register:(t,n)=>{e.set(t,n)},execute:t,carryExecute:e=>(n,r)=>{t(e,n,r)}}}();k.register("make-bold",((e,t)=>{t.preventDefault(),E(e,"bold")})),k.register("make-italic",((e,t)=>{t.preventDefault(),E(e,"italic")})),k.register("make-underlined",((e,t)=>{t.preventDefault(),E(e,"underlined")})),k.register("make-inline-code",((e,t)=>{t.preventDefault(),E(e,"inlineCode")}));const v={};const h=function({scope:e="global"}={}){v[e]||(v[e]=[]);const t=v[e];return{register:(e,n)=>{t.push({keybind:e,callback:n,is:i(e,{byKey:!0})})},unregister:e=>{const n=t.findIndex((t=>t.keybind===e));-1!==n&&t.splice(n,1)},keyDown:(e,n)=>{const r=e instanceof Event?e:e.nativeEvent;r.stopPropagation();for(const a of t){if(a.is(r)){a.callback(n,r);break}}}}}({scope:"slate-editor"}),_={paragraph:({attributes:e,children:t})=>u.createElement("p",o({},e),t)};function x(e){const t=_[e.element.type];return u.createElement(t,o({},e))}var w="_bold_1lpba_1",O="_italic_1lpba_5",D="_underlined_1lpba_9",j="_inline-code_1lpba_13";const C=({attributes:e,children:t,leaf:n})=>{const{bold:r=!1,italic:a=!1,underlined:s=!1,inlineCode:c=!1}=n,l=d({[w]:r,[O]:a,[D]:s,[j]:c});return c?u.createElement("code",o({className:l},e),t):u.createElement("span",o({className:l},e),t)};function S(e){return u.createElement(C,o({},e))}const N=({value:e,onChange:t,keybinds:n})=>{const r=p.exports.useMemo((()=>m(y())),[]);p.exports.useEffect((()=>{Object.entries(n).forEach((([e,t])=>{h.register(t,k.carryExecute(e))}))}),[n]);return u.createElement(b,{editor:r,value:e,onChange:t},u.createElement(f,{renderElement:x,renderLeaf:S,onKeyDown:e=>{h.keyDown(e,r)}}))};const P=()=>{const[e,t]=function(){const[e,t]=p.exports.useState([{type:"paragraph",children:[{text:"A line of text in a paragraph."}]}]);return p.exports.useEffect((()=>{console.log(JSON.stringify(e,null,2))}),[e]),[e,t]}();return u.createElement(N,{value:e,onChange:t,keybinds:{"make-bold":"mod+b","make-italic":"mod+i","make-underlined":"mod+u","make-inline-code":"mod+`"}})};g.render(u.createElement(P,null),document.querySelector("#root"));
