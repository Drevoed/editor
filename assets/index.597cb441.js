var e=Object.defineProperty,t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable,a=(t,n,r)=>n in t?e(t,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[n]=r,o=(e,o)=>{for(var l in o||(o={}))n.call(o,l)&&a(e,l,o[l]);if(t)for(var l of t(o))r.call(o,l)&&a(e,l,o[l]);return e};import{E as l,_ as s,R as c,c as i,r as u,w as d,a as p,S as f,b as m,d as b,e as g}from"./vendor.275bd472.js";function y(e,t){const n=l.marks(e);n&&(n[t]?e.removeMark(t):e.addMark(t,!0))}const k=function(){const e=new Map,t=(t,n,r)=>{const a=e.get(t);a&&a(n,r)};return{register:(t,n)=>{e.set(t,n)},execute:t,curryExecute:e=>(n,r)=>{t(e,n,r)}}}();k.register("make-bold",((e,t)=>{t.preventDefault(),y(e,"bold")})),k.register("make-italic",((e,t)=>{t.preventDefault(),y(e,"italic")})),k.register("make-underlined",((e,t)=>{t.preventDefault(),y(e,"underlined")})),k.register("make-inline-code",((e,t)=>{t.preventDefault(),y(e,"inlineCode")}));const E={};const v=function({scope:e="global",stopAllEvents:t=!0}={}){E[e]||(E[e]=[]);const n=E[e];return{register:(e,t)=>{n.push({keybind:e,callback:t,is:s(e,{byKey:!0})})},unregister:e=>{const t=n.findIndex((t=>t.keybind===e));-1!==t&&n.splice(t,1)},unregisterAll:()=>{n.splice(0,n.length)},keyDown:(e,r)=>{const a=e instanceof Event?e:e.nativeEvent;t&&a.stopPropagation();for(const o of n){if(o.is(a)){t||a.stopPropagation(),o.callback(r,a);break}}}}}({scope:"slate-editor"}),_={paragraph:({attributes:e,children:t})=>c.createElement("p",o({},e),t)};function h(e){const t=_[e.element.type];return c.createElement(t,o({},e))}var x="_bold_1lpba_1",w="_italic_1lpba_5",j="_underlined_1lpba_9",O="_inline-code_1lpba_13";const D=({attributes:e,children:t,leaf:n})=>{const{bold:r=!1,italic:a=!1,underlined:l=!1,inlineCode:s=!1}=n,u=i({[x]:r,[w]:a,[j]:l,[O]:s});return s?c.createElement("code",o({className:u},e),t):c.createElement("span",o({className:u},e),t)};function C(e){return c.createElement(D,o({},e))}var P="_editor_jylcw_1";const S=({value:e,onChange:t,keybinds:n})=>{const r=u.exports.useMemo((()=>d(p(b()))),[]);!function(e){u.exports.useEffect((()=>{v.unregisterAll(),Object.entries(e).forEach((([e,t])=>{if(!t)return;const n="string"==typeof t?[t]:t;for(const r of n)v.register(r,k.curryExecute(e))}))}),[e])}(n);return c.createElement(f,{editor:r,value:e,onChange:t},c.createElement(m,{className:P,renderElement:h,renderLeaf:C,onKeyDown:e=>{v.keyDown(e,r)}}))};const A=()=>{const[e,t]=function(){const[e,t]=u.exports.useState([{type:"paragraph",children:[{text:"A line of text in a paragraph."}]}]);return u.exports.useEffect((()=>{console.log(JSON.stringify(e,null,2))}),[e]),[e,t]}();return c.createElement(S,{value:e,onChange:t,keybinds:{"make-bold":"mod+b","make-italic":"mod+i","make-underlined":"mod+u","make-inline-code":["mod+`","mod+j"]}})};g.render(c.createElement(A,null),document.querySelector("#root"));
