var e=Object.defineProperty,t=Object.defineProperties,n=Object.getOwnPropertyDescriptors,r=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable,s=(t,n,r)=>n in t?e(t,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[n]=r,i=(e,t)=>{for(var n in t||(t={}))o.call(t,n)&&s(e,n,t[n]);if(r)for(var n of r(t))a.call(t,n)&&s(e,n,t[n]);return e};import{R as c,c as l,r as u,w as d,a as f,b as p,E as m,d as b,T as g,P as y,_ as v,S as k,e as h,f as E}from"./vendor.59cf1633.js";const x=()=>({type:"paragraph",children:[{text:""}]}),_={paragraph:({attributes:e,children:t})=>c.createElement("p",i({},e),t)};function w(e){const t=_[e.element.type];return c.createElement(t,i({},e))}var O="_bold_1lpba_1",D="_italic_1lpba_5",j="_underlined_1lpba_9",P="_inline-code_1lpba_13";const C=({attributes:e,children:t,leaf:n})=>{const{bold:r=!1,italic:o=!1,underlined:a=!1,inlineCode:s=!1}=n,u=l({[O]:r,[D]:o,[j]:a,[P]:s});return s?c.createElement("code",i({className:u},e),t):c.createElement("span",i({className:u},e),t)};function N(e){return c.createElement(C,i({},e))}var A="_editor_jylcw_1";const K={format:function(e){return e=>function(e,t){return e}(e)}};const S=[d,f,K.format([{type:"inline",between:["`","`"],to:"inlineCode"}])];const M={getAbove:function(e,s){const c=s,{type:l}=c,u=((e,t)=>{var n={};for(var s in e)o.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(null!=e&&r)for(var s of r(e))t.indexOf(s)<0&&a.call(e,s)&&(n[s]=e[s]);return n})(c,["type"]);return m.above(e,(d=i({},u),t(d,n({match:t=>m.isBlock(e,t)}))));var d}};function q(e,t){const n=m.marks(e);n&&(n[t]?e.removeMark(t):e.addMark(t,!0))}const I=function(){const e=new Map,t=(t,n,r)=>{const o=e.get(t);o&&o(n,r)};return{register:(t,n)=>{e.set(t,n)},execute:t,curryExecute:e=>(n,r)=>{t(e,n,r)}}}();I.register("insert-soft-break",((e,t)=>{const{selection:n}=e;n&&(t.preventDefault(),e.insertText("\n"))})),I.register("insert-exit-break",((e,t)=>{if(!e.selection)return;t.preventDefault(),b.isExpanded(e.selection)&&g.delete(e,{at:e.selection});const n=M.getAbove(e,{type:"block",mode:"highest"});if(!n)return;const[,r]=n,[o,a]=m.edges(e,r),s=b.start(e.selection);y.equals(s,a)?g.insertNodes(e,x(),{at:s,select:!0}):y.equals(s,o)?g.insertNodes(e,x(),{at:s,select:!1}):g.splitNodes(e,{at:s,mode:"highest"})})),I.register("make-bold",((e,t)=>{t.preventDefault(),q(e,"bold")})),I.register("make-italic",((e,t)=>{t.preventDefault(),q(e,"italic")})),I.register("make-underlined",((e,t)=>{t.preventDefault(),q(e,"underlined")})),I.register("make-inline-code",((e,t)=>{t.preventDefault(),q(e,"inlineCode")}));const T={};const B=function({scope:e="global",stopAllEvents:t=!0}={}){T[e]||(T[e]=[]);const n=T[e];return{register:(e,t)=>{n.push({keybind:e,callback:t,is:v(e,{byKey:!0})})},unregister:e=>{const t=n.findIndex((t=>t.keybind===e));-1!==t&&n.splice(t,1)},unregisterAll:()=>{n.splice(0,n.length)},keyDown:(e,r)=>{const o=e instanceof Event?e:e.nativeEvent;t&&o.stopPropagation();for(const a of n){if(a.is(o)){t||o.stopPropagation(),a.callback(r,o);break}}}}}({scope:"slate-editor"}),F={"insert-soft-break":"shift+enter","insert-exit-break":["enter","mod+enter"],"make-bold":"mod+b","make-italic":"mod+i","make-underlined":"mod+u","make-inline-code":["mod+e","mod+`"]};const J=({value:e,onChange:t,customKeybinds:n={},customExtensions:r=[]})=>{const o=function(e){return u.exports.useMemo((()=>{const t=[...S,...e];return function(e,t){return t.reduce(((e,t)=>t(e)),e)}(p(),t)}),[K])}(r),{handleKeyDown:a}=function(e,t){return u.exports.useEffect((()=>{const e=i(i({},F),t);B.unregisterAll(),Object.entries(e).forEach((([e,t])=>{if(!t)return;const n="string"==typeof t?[t]:t;for(const r of n)B.register(r,I.curryExecute(e))}))}),[t]),{handleKeyDown:u.exports.useCallback((t=>{B.keyDown(t,e)}),[e])}}(o,n);return c.createElement(k,{editor:o,value:e,onChange:t},c.createElement(h,{className:A,renderElement:w,renderLeaf:N,onKeyDown:a,autoFocus:!0}))};const L=()=>{const[e,t]=function(){const[e,t]=u.exports.useState([{type:"paragraph",children:[{text:"A line of text in a paragraph."}]}]);return u.exports.useEffect((()=>{console.log(JSON.stringify(e,null,2))}),[e]),[e,t]}();return c.createElement(J,{value:e,onChange:t})};E.render(c.createElement(L,null),document.querySelector("#root"));
