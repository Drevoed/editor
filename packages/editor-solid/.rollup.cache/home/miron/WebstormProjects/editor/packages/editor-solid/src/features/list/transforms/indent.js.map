{"version":3,"file":"indent.js","sourceRoot":"","sources":["indent.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,YAAY,EAAE,MAAM,YAAY,CAAA;AACzC,OAAO,EAAE,aAAa,EAAE,MAAM,kBAAkB,CAAA;AAChD,OAAO,EAAoB,KAAK,EAAE,UAAU,EAAE,MAAM,OAAO,CAAA;AAM3D,MAAM,UAAU,MAAM,CAAC,MAAc,EAAE,UAAmB,EAAE;IAC1D,MAAM,EAAE,EAAE,GAAG,MAAM,CAAC,SAAS,EAAE,GAAG,OAAO,CAAA;IACzC,IAAI,CAAC,EAAE;QAAE,OAAM;IAEf,IAAI,KAAK,CAAC,OAAO,CAAC,EAAE,CAAC,IAAI,KAAK,CAAC,UAAU,CAAC,EAAE,CAAC;QAAE,OAAM;IAErD,MAAM,IAAI,GAAG,YAAY,CAAC,IAAI,CAAC,MAAM,EAAE,EAAE,EAAE,EAAE,CAAC,CAAA;IAC9C,IAAI,CAAC,IAAI;QAAE,OAAM;IAEjB,MAAM,EAAE,KAAK,EAAE,KAAK,EAAE,GAAG,IAAI,CAAA;IAE7B,IAAI,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,OAAO;QAAE,OAAM;IACtC,IAAI,CAAC,KAAK,CAAC,QAAQ;QAAE,OAAM;IAE3B,UAAU,CAAC,SAAS,CAClB,MAAM,EACN,EAAE,IAAI,EAAE,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,EAAE,QAAQ,EAAE,EAAE,EAAE,EAC/C;QACE,EAAE,EAAE,KAAK,CAAC,OAAO,CAAC,IAAI;KACvB,CACF,CAAA;IACD,UAAU,CAAC,SAAS,CAAC,MAAM,EAAE;QAC3B,EAAE,EAAE,KAAK,CAAC,OAAO,CAAC,IAAI;QACtB,EAAE,EAAE,KAAK,CAAC,QAAQ,CAAC,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,QAAQ,CAAC,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC;KACpE,CAAC,CAAA;IAEF,aAAa,CAAC,MAAM,EAAE,EAAE,EAAE,EAAE,KAAK,CAAC,QAAQ,CAAC,IAAI,EAAE,CAAC,CAAA;AACpD,CAAC","sourcesContent":["import { LocalQueries } from '../queries'\nimport { mergeSiblings } from './merge-siblings'\nimport { Editor, Location, Range, Transforms } from 'slate'\n\ninterface Options {\n  at?: Location\n}\n\nexport function indent(editor: Editor, options: Options = {}) {\n  const { at = editor.selection } = options\n  if (!at) return\n\n  if (Range.isRange(at) && Range.isExpanded(at)) return\n\n  const info = LocalQueries.info(editor, { at })\n  if (!info) return\n\n  const { lists, items } = info\n\n  if (items.current.meta.isFirst) return\n  if (!items.previous) return\n\n  Transforms.wrapNodes(\n    editor,\n    { type: lists.current.node.type, children: [] },\n    {\n      at: items.current.path,\n    }\n  )\n  Transforms.moveNodes(editor, {\n    at: items.current.path,\n    to: items.previous.path.concat(items.previous.node.children.length),\n  })\n\n  mergeSiblings(editor, { at: items.previous.path })\n}\n"]}