{"version":3,"file":"exit-block.js","sourceRoot":"","sources":["exit-block.ts"],"names":[],"mappings":"AAAA,OAAO,EAAU,IAAI,EAAE,UAAU,EAAE,MAAM,OAAO,CAAA;AAChD,OAAO,EAGL,sBAAsB,EACtB,cAAc,EACd,aAAa,GACd,MAAM,sBAAsB,CAAA;AAG7B,MAAM,CAAC,MAAM,SAAS,GAGlB,CAAC,EAAE,MAAM,EAAE,KAAK,EAAE,EAAE,EAAE;IACxB,MAAM,IAAI,GAAG,aAAa,CAAC,QAAQ,CAAC,MAAM,EAAE;QAC1C,IAAI,EAAE,OAAO;QACb,KAAK,EAAE,cAAc,CAAC,KAAK,CAAC,MAAM,EAAE,MAAM,CAAC;KAC5C,CAAC,CAAA;IAEF,IAAI,CAAC,IAAI,EAAE;QACT,OAAO,EAAE,OAAO,EAAE,IAAI,EAAE,CAAA;KACzB;IAED,MAAM,CAAC,EAAE,QAAQ,CAAC,GAAG,IAAI,CAAA;IAEzB,KAAK,CAAC,cAAc,EAAE,CAAA;IAEtB,UAAU,CAAC,WAAW,CAAC,MAAM,EAAE,sBAAsB,EAAE,EAAE;QACvD,EAAE,EAAE,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC;QACvB,MAAM,EAAE,IAAI;KACb,CAAC,CAAA;AACJ,CAAC,CAAA","sourcesContent":["import { Editor, Path, Transforms } from 'slate'\nimport {\n  ActionCallback,\n  ActionParams,\n  createParagraphElement,\n  GlobalMatchers,\n  GlobalQueries,\n} from '@cardbox-editor/core'\nimport type React from 'react'\n\nexport const exitBlock: ActionCallback<\n  React.KeyboardEvent,\n  ActionParams<Editor, React.KeyboardEvent>\n> = ({ editor, event }) => {\n  const code = GlobalQueries.getAbove(editor, {\n    type: 'block',\n    match: GlobalMatchers.block(editor, 'code'),\n  })\n\n  if (!code) {\n    return { skipped: true }\n  }\n\n  const [, codePath] = code\n\n  event.preventDefault()\n\n  Transforms.insertNodes(editor, createParagraphElement(), {\n    at: Path.next(codePath),\n    select: true,\n  })\n}\n"]}